### WHY
When our container needs to store some data in it, the data persists till the container is running. If the container is restarted or removed, all the data is destroyed. So, it is a very common requirement to persist the data in a Docker container beyond the lifetime of the container.

Volumes are persistent data stores for containers, created and managed by Docker.

### HOW
There are 2 different ways how docker solves this problem.

1. Volumes
2. Bind mounts

### Bind Mount
When you use a bind mount, a file or directory on the host machine is attached to a container. The file or directory is referenced by its absolute path on the host machine. The container can read and write to the directory. It can not be managed by docker cli.

For details, check out the [docs](https://docs.docker.com/engine/storage/bind-mounts/)

### Volumes
Volumes are quite similar to Bind mount, but more efficient. But volumes are the preferred mechanism for persisting data generated by and used by Docker containers. While bind mounts are dependent on the directory structure and OS of the host machine, volumes are completely managed by Docker. They can be managed using docker cli.

Volume is a logical partition on the host. When we use a volume, a new directory is created within Docker's storage directory on the host machine, and Docker manages that directory's contents. 

For details, check out the [docs](https://docs.docker.com/engine/storage/volumes/)

### Examples
We can create and attach a volume or a bind mount to a container using either `-v` or `--mount` flag. In general, `--mount` is more explicit and verbose.

Check the syntactical differences, [here](https://docs.docker.com/engine/storage/volumes/#choose-the--v-or---mount-flag)

- `docker volume create volume_name` : To create a volume.

- `docker volume create ls` : To list volumes.

- `docker volume inspect volume_name` : To inspect a volume.

- `docker volume rm volume_name` : To remove a volume.

- `docker run -d --name devtest --mount type=bind,source="$(pwd)"/target,target=/app nginx:latest` : To bind-mount the target/ directory into your container at /app/.

- `docker run -d --name devtest -v "$(pwd)"/target:/app nginx:latest` : To bind-mount the target/ directory into your container at /app/.

- `docker run -d --name devtest --mount type=volume source=myvol2 target=/app nginx:latest` : To mount the volume myvol2 into /app/ in the container.

- `docker run -d --name devtest -v myvol2:/app nginx:latest` : To mount the volume myvol2 into /app/ in the container.

- `docker inspect container_name` : Look for *Mounts* section to check if the volume is correctly mounted to the container.

**If we start a container with a volume that doesn't yet exist, Docker creates the volume for us.**

**If we start a container which creates a new volume, and the container has files or directories to be mounted, Docker copies the directory's contents into the volume.**


```
docker container stop devtest

docker container rm devtest

docker volume rm myvol2
```

Go through the docs for better understanding.





